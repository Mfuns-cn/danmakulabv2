(function(t){function e(e){for(var a,o,i=e[0],u=e[1],s=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==c[u]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},c={app:0},r=[];function o(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-0b65ffb6":"b1e90d2b","chunk-2d0a3196":"525c060a","chunk-2d0a3577":"08e57b7c","chunk-2d0a40c8":"f1e3a7bf","chunk-2d0a43df":"29246f68","chunk-2d0a4bbf":"37464aac","chunk-2d0aa90c":"7dcadb75","chunk-2d0aab07":"9a68281e","chunk-2d0abc00":"3b3192ac","chunk-2d0ae937":"972e1caf","chunk-2d0aeb45":"a7da3444","chunk-2d0af08c":"13b9cb9b","chunk-2d0afa49":"0d8775c1","chunk-2d0b1fd5":"4f1a23bd","chunk-2d0b21d7":"c86168d7","chunk-2d0b2762":"040008b6","chunk-2d0b6187":"98b8f6c5","chunk-2d0ba136":"1c2c79ef","chunk-2d0bb267":"e21a8941","chunk-2d0bcec1":"04eac3a4","chunk-2d0bdf38":"e296a2c0","chunk-2d0bff92":"aeb10dc4","chunk-2d0c0494":"fc8dc4d1","chunk-2d0c0a09":"d6c45b0a","chunk-2d0c4313":"e8a59f53","chunk-2d0c46d1":"26a18d3e","chunk-2d0c4a95":"8524702c","chunk-2d0c512b":"fa3c75fd","chunk-2d0c86e3":"3ad7a61f","chunk-2d0c8f4c":"e8ca8a7d","chunk-2d0cf16e":"a58b5444","chunk-2d0d056d":"b352fd49","chunk-2d0d0645":"294ff97f","chunk-2d0d2f22":"002f49f5","chunk-2d0d61fd":"5f2f813d","chunk-2d0d7e63":"3693fe03","chunk-2d0dda4e":"0781d70a","chunk-2d0de971":"0f33a456","chunk-2d0e1b57":"ac0499f6","chunk-2d0e1fbe":"165f4253","chunk-2d0e22d6":"9556614b","chunk-2d0e4fe5":"b3503c26","chunk-2d0e542a":"444e1c4d","chunk-2d0e57ec":"b32f338b","chunk-2d0e5b34":"a1ee9b7c","chunk-2d0e6553":"59054791","chunk-2d0e6c86":"aa3fefb9","chunk-2d0ea098":"ac843613","chunk-2d0f0a11":"81a52aab","chunk-2d208ac5":"6742d98f","chunk-2d209408":"344ac544","chunk-2d20f745":"ad4a1523","chunk-2d20ff23":"cb2eb94f","chunk-2d2138c7":"ef6bd49e","chunk-2d216f3b":"eeb0926e","chunk-2d217e5b":"b529a5b7","chunk-2d21ab79":"c411bd93","chunk-2d21b84a":"59ec76ae","chunk-2d21dcd2":"452c194f","chunk-2d21f327":"0b267cb0","chunk-2d2214b3":"147874bc","chunk-2d221799":"ca7947fb","chunk-2d221814":"9c3abd2b","chunk-2d221a34":"1eda6924","chunk-2d22502a":"9f9e3da4","chunk-2d226775":"c0469318","chunk-2d229411":"dad820fb","chunk-2d2295e9":"9dae738a","chunk-2d22c171":"fb2a7e19","chunk-2d22c2b8":"8b8784b2","chunk-2d22ca58":"a9e85f42","chunk-2d2311f7":"b12123d9","chunk-2d237ee7":"8460143b","chunk-2d238465":"b6707665","chunk-30597b4a":"614f2ccb","chunk-7532b3ea":"56a021bf","chunk-e13e4362":"2686ad1d"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=c[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=c[t]=[e,a]}));e.push(n[2]=a);var r,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=o(t);var s=new Error;r=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=c[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,n[1](s)}c[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:u})}),12e4);u.onerror=u.onload=r,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0a6a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},r=[],o={name:"App",data:function(){return{}}},i=o,u=n("2877"),s=Object(u["a"])(i,c,r,!1,null,null,null),d=s.exports,l=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{dense:"",app:"",color:"primary",dark:""}},[n("v-app-bar-title",[t._v("Mfuns Danmaku Lab "),n("v-chip",{attrs:{small:""}},[t._v("core 1.6.2")])],1),n("v-spacer"),n("v-btn",{attrs:{title:"导出文件",dark:"",icon:""},on:{click:t.exportFile}},[n("v-icon",[t._v("mdi-content-save")])],1),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,c=e.attrs;return[n("v-btn",t._g(t._b({attrs:{title:"背景颜色",dark:"",icon:""}},"v-btn",c,!1),a),[n("v-icon",[t._v("mdi-palette")])],1)]}}])},[n("v-sheet",{staticClass:"pa-1 color-select"},t._l(t.colorList,(function(e){return n("v-sheet",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e,staticClass:"ma-1",attrs:{elevation:"1",color:e,width:"30",height:"30"},on:{click:function(n){return t.changeColor(e)}}})})),1)],1)],1),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"row-box",attrs:{md:"5"}},[n("div",{ref:"container",staticClass:"row row-box",attrs:{id:"container"}})]),n("v-col",{ref:"danmakuBox",staticClass:"box row-box",style:"background-color:"+t.color,attrs:{md:"7"}},[n("v-sheet",{staticClass:"control",attrs:{elevation:"1"}},[n("v-btn",{attrs:{color:"primary",icon:"",title:"同步代码"},on:{click:t.syncDanmaku}},[n("v-icon",[t._v("mdi-sync-circle")])],1),n("v-btn",{attrs:{color:"orange",icon:"",title:"后退5秒"},on:{click:function(e){return t.skip(-5e3)}}},[n("v-icon",[t._v("mdi-skip-previous")])],1),t.isPlay?n("v-btn",{attrs:{color:"green",icon:"",title:"暂停"},on:{click:t.pause}},[n("v-icon",[t._v("mdi-pause")])],1):n("v-btn",{attrs:{color:"green",icon:"",title:"播放"},on:{click:t.play}},[n("v-icon",[t._v("mdi-play")])],1),n("v-btn",{attrs:{color:"orange",icon:"",title:"前进5秒"},on:{click:function(e){return t.skip(5e3)}}},[n("v-icon",[t._v("mdi-skip-next")])],1),n("v-btn",{attrs:{color:"red",icon:"",title:"停止"},on:{click:t.stop}},[n("v-icon",[t._v("mdi-stop")])],1),t.isFull?n("v-btn",{attrs:{color:"primary",icon:"",title:"退出全屏"},on:{click:t.fullscreen}},[n("v-icon",[t._v("mdi-fullscreen-exit")])],1):n("v-btn",{attrs:{color:"primary",icon:"",title:"全屏"},on:{click:t.fullscreen}},[n("v-icon",[t._v("mdi-fullscreen")])],1)],1),n("v-sheet",{staticClass:"time"},[n("v-btn",{attrs:{text:"",color:"primary",tile:"",elevation:"1",title:"跳转至..."}},[t._v("\n              "+t._s(t.time)+"\n            ")])],1),n("MFADE",{ref:"danmaku",staticClass:"danmaku row",attrs:{danmaku:t.danamkuText}})],1)],1)],1),n("v-snackbar",{attrs:{top:"",color:t.snackbar.color},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(t._s(t.snackbar.text))])],1)],1)},h=[],k=(n("99af"),n("c2c6")),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MFADE",attrs:{id:"danmaku"}})},p=[],v=n("5a4d"),m={name:"MFADE",props:{danmaku:{type:String,default:"[]"}},data:function(){return{core:null}},mounted:function(){var t=this;this.core=new v["a"]({containers:document.getElementById("danmaku"),danmaku:function(e){e([t.danmaku])}})}},y=m,g=(n("cb5d"),Object(u["a"])(y,b,p,!1,null,null,null)),w=g.exports,_=n("93bf"),x=n.n(_),V=n("21a6"),E={name:"Home",components:{MFADE:w},data:function(){return{editor:null,isPlay:!1,danamkuText:"[]",time:"00:00",timeId:0,isFull:!1,colorList:["white","black"],color:"white",snackbar:{show:!1,color:"primary",text:""}}},mounted:function(){var t=this;this.initTime(),x.a.isEnabled&&x.a.on("change",(function(){t.isFull=x.a.isFullscreen}));var e=this.getAutoSave();e&&(this.danamkuText=e,this.alert("上次保存已载入","green")),this.initEditor(),this.autoSave(),this.danmakuEventInit()},beforeDestroy:function(){this.stopTime()},methods:{initEditor:function(){this.editor=k["editor"].create(this.$refs.container,{value:this.danamkuText,language:"json",automaticLayout:!0,theme:"vs-dark",tabSize:"2"})},getValue:function(){return this.editor.getValue()},syncDanmaku:function(){var t=this;this.danamkuText=this.getValue(),setTimeout((function(){t.$refs.danmaku.core.reset()}),0),this.pause()},play:function(){this.isPlay=!0,this.$refs.danmaku.core.start()},pause:function(){this.isPlay=!1,this.$refs.danmaku.core.pause()},stop:function(){this.pause(),this.$refs.danmaku.core.skip(0)},skip:function(t){var e=this.$refs.danmaku.core.time();e+=t,e<=0&&(e=0),console.log(e),this.$refs.danmaku.core.skip(e)},initTime:function(){var t=this;this.timeId=setInterval((function(){var e=t.$refs.danmaku.core.time(),n=parseInt(e/1e3),a=parseInt(e%1e3/10);a<10&&(a="0"+a),t.time="".concat(n,":").concat(a)}),16)},stopTime:function(){clearInterval(this.timeId)},fullscreen:function(){x.a.toggle(this.$refs.danmakuBox)},changeColor:function(t){this.color=t},exportFile:function(){var t=new Blob([this.getValue()],{type:"text/plain;charset=utf-8"});Object(V["saveAs"])(t,"弹幕导出.json")},autoSave:function(){var t=this;setInterval((function(){window.localStorage.danamkuText=t.getValue()}),2e3)},getAutoSave:function(){return window.localStorage.danamkuText},alert:function(t,e){this.snackbar.color=e,this.snackbar.text=t,this.snackbar.show=!0},danmakuEventInit:function(){var t=this;this.$refs.danmaku.core.listenerEvent("DANMAKU_JSON_INVALID",(function(){t.alert("弹幕格式无效，请检查后重试","error")})),this.$refs.danmaku.core.listenerEvent("DANMAKU_FORMAT_ERROR",(function(e){t.alert("弹幕解析无效 内容:".concat(e.content," , 位置：").concat(e.index),"error")}))}}},S=E,T=(n("cccb"),n("6544")),A=n.n(T),O=n("7496"),j=n("40dc"),C=n("bb78"),$=n("8336"),I=n("cc20"),M=n("62ad"),P=n("a523"),D=n("132d"),F=n("f6c4"),B=n("e449"),L=n("0fd9"),R=n("8dd9"),N=n("2db4"),J=n("2fa4"),H=n("269a"),K=n.n(H),U=n("5607"),q=Object(u["a"])(S,f,h,!1,null,null,null),z=q.exports;A()(q,{VApp:O["a"],VAppBar:j["a"],VAppBarTitle:C["a"],VBtn:$["a"],VChip:I["a"],VCol:M["a"],VContainer:P["a"],VIcon:D["a"],VMain:F["a"],VMenu:B["a"],VRow:L["a"],VSheet:R["a"],VSnackbar:N["a"],VSpacer:J["a"]}),K()(q,{Ripple:U["a"]}),a["a"].use(l["a"]);var G=[{path:"/",name:"Home",component:z}],Q=new l["a"]({mode:"hash",base:"/dist/",routes:G}),W=Q,X=n("2f62");a["a"].use(X["a"]);var Y=new X["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Z=n("f309");a["a"].use(Z["a"]);var tt=new Z["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:W,store:Y,vuetify:tt,render:function(t){return t(d)}}).$mount("#app")},"5f31":function(t,e,n){},cb5d:function(t,e,n){"use strict";n("5f31")},cccb:function(t,e,n){"use strict";n("0a6a")}});
//# sourceMappingURL=app.30598161.js.map