(function(e){function t(t){for(var a,o,i=t[0],u=t[1],d=t[2],s=0,f=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==c[u]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},c={app:0},r=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0b65ffb6":"e9672c4d","chunk-2d0a3196":"525c060a","chunk-2d0a3577":"08e57b7c","chunk-2d0a40c8":"f1e3a7bf","chunk-2d0a43df":"29246f68","chunk-2d0a4bbf":"37464aac","chunk-2d0aa90c":"7dcadb75","chunk-2d0aab07":"9a68281e","chunk-2d0abc00":"3b3192ac","chunk-2d0ae937":"972e1caf","chunk-2d0aeb45":"a7da3444","chunk-2d0af08c":"13b9cb9b","chunk-2d0afa49":"0d8775c1","chunk-2d0b1fd5":"4f1a23bd","chunk-2d0b21d7":"c86168d7","chunk-2d0b2762":"040008b6","chunk-2d0b6187":"98b8f6c5","chunk-2d0ba136":"1c2c79ef","chunk-2d0bb267":"e21a8941","chunk-2d0bcec1":"04eac3a4","chunk-2d0bdf38":"e296a2c0","chunk-2d0bff92":"aeb10dc4","chunk-2d0c0494":"fc8dc4d1","chunk-2d0c0a09":"d6c45b0a","chunk-2d0c4313":"e8a59f53","chunk-2d0c46d1":"26a18d3e","chunk-2d0c4a95":"8524702c","chunk-2d0c512b":"fa3c75fd","chunk-2d0c86e3":"3ad7a61f","chunk-2d0c8f4c":"e8ca8a7d","chunk-2d0cf16e":"a58b5444","chunk-2d0d056d":"b352fd49","chunk-2d0d0645":"294ff97f","chunk-2d0d2f22":"002f49f5","chunk-2d0d61fd":"5f2f813d","chunk-2d0d7e63":"3693fe03","chunk-2d0dda4e":"0781d70a","chunk-2d0de971":"0f33a456","chunk-2d0e1b57":"ac0499f6","chunk-2d0e1fbe":"165f4253","chunk-2d0e22d6":"9556614b","chunk-2d0e4fe5":"b3503c26","chunk-2d0e542a":"444e1c4d","chunk-2d0e57ec":"b32f338b","chunk-2d0e5b34":"a1ee9b7c","chunk-2d0e6553":"59054791","chunk-2d0e6c86":"aa3fefb9","chunk-2d0ea098":"ac843613","chunk-2d0f0a11":"81a52aab","chunk-2d208ac5":"6742d98f","chunk-2d209408":"344ac544","chunk-2d20f745":"ad4a1523","chunk-2d20ff23":"cb2eb94f","chunk-2d2138c7":"ef6bd49e","chunk-2d216f3b":"eeb0926e","chunk-2d217e5b":"b529a5b7","chunk-2d21ab79":"c411bd93","chunk-2d21b84a":"59ec76ae","chunk-2d21dcd2":"452c194f","chunk-2d21f327":"0b267cb0","chunk-2d2214b3":"147874bc","chunk-2d221799":"ca7947fb","chunk-2d221814":"9c3abd2b","chunk-2d221a34":"1eda6924","chunk-2d22502a":"9f9e3da4","chunk-2d226775":"c0469318","chunk-2d229411":"dad820fb","chunk-2d2295e9":"9dae738a","chunk-2d22c171":"fb2a7e19","chunk-2d22c2b8":"8b8784b2","chunk-2d22ca58":"a9e85f42","chunk-2d2311f7":"b12123d9","chunk-2d237ee7":"8460143b","chunk-2d238465":"b6707665","chunk-30597b4a":"0283158b","chunk-7532b3ea":"56a021bf","chunk-e13e4362":"fca79374"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=c[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=c[e]=[t,a]}));t.push(n[2]=a);var r,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=o(e);var d=new Error;r=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}c[e]=void 0}};var s=setTimeout((function(){r({type:"timeout",target:u})}),12e4);u.onerror=u.onload=r,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=d;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},r=[],o={name:"App",data:function(){return{}}},i=o,u=n("2877"),d=Object(u["a"])(i,c,r,!1,null,null,null),s=d.exports,l=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{dense:"",app:"",color:"primary",dark:""}},[n("v-app-bar-title",[e._v("Mfuns Danmaku Lab "),n("v-chip",{attrs:{small:""}},[e._v("core 1.5.5")])],1),n("v-spacer"),n("v-btn",{attrs:{title:"导出文件",dark:"",icon:""},on:{click:e.exportFile}},[n("v-icon",[e._v("mdi-content-save")])],1),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,c=t.attrs;return[n("v-btn",e._g(e._b({attrs:{title:"背景颜色",dark:"",icon:""}},"v-btn",c,!1),a),[n("v-icon",[e._v("mdi-palette")])],1)]}}])},[n("v-sheet",{staticClass:"pa-1 color-select"},e._l(e.colorList,(function(t){return n("v-sheet",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t,staticClass:"ma-1",attrs:{elevation:"1",color:t,width:"30",height:"30"},on:{click:function(n){return e.changeColor(t)}}})})),1)],1)],1),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"row-box",attrs:{md:"5"}},[n("div",{ref:"container",staticClass:"row row-box",attrs:{id:"container"}})]),n("v-col",{ref:"danmakuBox",staticClass:"box row-box",style:"background-color:"+e.color,attrs:{md:"7"}},[n("v-sheet",{staticClass:"control",attrs:{elevation:"1"}},[n("v-btn",{attrs:{color:"primary",icon:"",title:"同步代码"},on:{click:e.syncDanmaku}},[n("v-icon",[e._v("mdi-sync-circle")])],1),n("v-btn",{attrs:{color:"orange",icon:"",title:"后退5秒"},on:{click:function(t){return e.skip(-5e3)}}},[n("v-icon",[e._v("mdi-skip-previous")])],1),e.isPlay?n("v-btn",{attrs:{color:"green",icon:"",title:"暂停"},on:{click:e.pause}},[n("v-icon",[e._v("mdi-pause")])],1):n("v-btn",{attrs:{color:"green",icon:"",title:"播放"},on:{click:e.play}},[n("v-icon",[e._v("mdi-play")])],1),n("v-btn",{attrs:{color:"orange",icon:"",title:"前进5秒"},on:{click:function(t){return e.skip(5e3)}}},[n("v-icon",[e._v("mdi-skip-next")])],1),n("v-btn",{attrs:{color:"red",icon:"",title:"停止"},on:{click:e.stop}},[n("v-icon",[e._v("mdi-stop")])],1),e.isFull?n("v-btn",{attrs:{color:"primary",icon:"",title:"退出全屏"},on:{click:e.fullscreen}},[n("v-icon",[e._v("mdi-fullscreen-exit")])],1):n("v-btn",{attrs:{color:"primary",icon:"",title:"全屏"},on:{click:e.fullscreen}},[n("v-icon",[e._v("mdi-fullscreen")])],1)],1),n("v-sheet",{staticClass:"time"},[n("v-btn",{attrs:{text:"",color:"primary",tile:"",elevation:"1",title:"跳转至..."}},[e._v(" "+e._s(e.time)+" ")])],1),n("MFADE",{ref:"danmaku",staticClass:"danmaku row",attrs:{danmaku:e.danamkuText}})],1)],1)],1)],1)],1)},h=[],k=(n("99af"),n("c2c6")),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MFADE",attrs:{id:"danmaku"}})},p=[],v=n("5a4d"),m={name:"MFADE",props:{danmaku:{type:String,default:"[]"}},data:function(){return{core:null}},mounted:function(){var e=this;this.core=new v["a"]({containers:document.getElementById("danmaku"),danmaku:function(t){t([e.danmaku])}})}},y=m,g=(n("cb5d"),Object(u["a"])(y,b,p,!1,null,null,null)),w=g.exports,_=n("93bf"),x=n.n(_),T=n("21a6"),V={name:"Home",components:{MFADE:w},data:function(){return{editor:null,isPlay:!1,danamkuText:"[]",time:"00:00",timeId:0,isFull:!1,colorList:["white","black"],color:"white"}},mounted:function(){var e=this;this.initTime(),x.a.isEnabled&&x.a.on("change",(function(){e.isFull=x.a.isFullscreen}));var t=this.getAutoSave();t&&(this.danamkuText=t),this.initEditor(),this.autoSave()},beforeDestroy:function(){this.stopTime()},methods:{initEditor:function(){this.editor=k["editor"].create(this.$refs.container,{value:this.danamkuText,language:"json",automaticLayout:!0,theme:"vs-dark",tabSize:"2"})},getValue:function(){return this.editor.getValue()},syncDanmaku:function(){var e=this;this.danamkuText=this.getValue(),setTimeout((function(){e.$refs.danmaku.core.reset()}),0),this.pause()},play:function(){this.isPlay=!0,this.$refs.danmaku.core.start()},pause:function(){this.isPlay=!1,this.$refs.danmaku.core.pause()},stop:function(){this.pause(),this.$refs.danmaku.core.skip(0)},skip:function(e){var t=this.$refs.danmaku.core.time();t+=e,t<=0&&(t=0),console.log(t),this.$refs.danmaku.core.skip(t)},initTime:function(){var e=this;this.timeId=setInterval((function(){var t=e.$refs.danmaku.core.time(),n=parseInt(t/1e3),a=parseInt(t%1e3/10);a<10&&(a="0"+a),e.time="".concat(n,":").concat(a)}),16)},stopTime:function(){clearInterval(this.timeId)},fullscreen:function(){x.a.toggle(this.$refs.danmakuBox)},changeColor:function(e){this.color=e},exportFile:function(){var e=new Blob([this.getValue()],{type:"text/plain;charset=utf-8"});Object(T["saveAs"])(e,"弹幕导出.json")},autoSave:function(){var e=this;setInterval((function(){window.localStorage.danamkuText=e.getValue()}),2e3)},getAutoSave:function(){return window.localStorage.danamkuText}}},j=V,S=(n("cccb"),n("6544")),C=n.n(S),O=n("7496"),E=n("40dc"),P=n("bb78"),$=n("8336"),A=n("cc20"),M=n("62ad"),F=n("a523"),I=n("132d"),D=n("f6c4"),B=n("e449"),L=n("0fd9"),H=n("8dd9"),J=n("2fa4"),R=n("269a"),q=n.n(R),z=n("5607"),N=Object(u["a"])(j,f,h,!1,null,null,null),G=N.exports;C()(N,{VApp:O["a"],VAppBar:E["a"],VAppBarTitle:P["a"],VBtn:$["a"],VChip:A["a"],VCol:M["a"],VContainer:F["a"],VIcon:I["a"],VMain:D["a"],VMenu:B["a"],VRow:L["a"],VSheet:H["a"],VSpacer:J["a"]}),q()(N,{Ripple:z["a"]}),a["a"].use(l["a"]);var K=[{path:"/",name:"Home",component:G}],Q=new l["a"]({mode:"hash",base:"/dist/",routes:K}),U=Q,W=n("2f62");a["a"].use(W["a"]);var X=new W["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Y=n("f309");a["a"].use(Y["a"]);var Z=new Y["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:U,store:X,vuetify:Z,render:function(e){return e(s)}}).$mount("#app")},"5ced":function(e,t,n){},cb5d:function(e,t,n){"use strict";n("f85c")},cccb:function(e,t,n){"use strict";n("5ced")},f85c:function(e,t,n){}});
//# sourceMappingURL=app.65aa52d3.js.map